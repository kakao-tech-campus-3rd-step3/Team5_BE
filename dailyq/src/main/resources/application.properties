spring.application.name=DailyQ

# Swagger 설정
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# === DB 연결 ===
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# 명시적으로 Dialect 지정(연결 전 메타데이터 조회 실패 시 방지)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Cloud Run + Cloud SQL 사용 시
# spring.datasource.url=jdbc:mysql:///<DB_NAME>?socketFactory=com.google.cloud.sql.mysql.SocketFactory&cloudSqlInstance=${CLOUD_SQL_CONNECTION_NAME}
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# SPRING_PROFILES_ACTIVE=prod 로 실행하고, 환경변수/시크릿은 런타임에 주입하세요.

server.port=8080

# JPA & Hibernate
spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.show_sql=${JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Seoul

# JSON 직렬화 타임존
spring.jackson.time-zone=Asia/Seoul

# Logging(운영 기본 OFF, 필요 시 환경변수로 조정)
logging.level.org.hibernate.SQL=${LOG_SQL:INFO}
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=${LOG_BINDER:INFO}

